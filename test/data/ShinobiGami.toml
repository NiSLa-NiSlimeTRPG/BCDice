[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=4"
output = "(2D6>=4) ＞ 6[2,4] ＞ 6 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=4"
output = "(2D6>=4) ＞ 4[1,3] ＞ 4 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=4"
output = "(2D6>=4) ＞ 3[1,2] ＞ 3 ＞ 失敗"
failure = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG"
output = "(SG@12#2) ＞ 2[1,1] ＞ 2 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG ファンブルの境界"
output = "(SG@12#2) ＞ 3[1,2] ＞ 3"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG スペシャルの境界"
output = "(SG@12#2) ＞ 11[5,6] ＞ 11"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG"
output = "(SG@12#2) ＞ 12[6,6] ＞ 12 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG#3 ファンブル値変更"
output = "(SG@12#3) ＞ 3[1,2] ＞ 3 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@11 スペシャル値変更"
output = "(SG@11#2) ＞ 11[5,6] ＞ 11 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@11#3"
output = "(SG@11#3) ＞ 3[1,2] ＞ 3 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@11#3"
output = "(SG@11#3) ＞ 11[5,6] ＞ 11 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@5#7 ファンブルが優先"
output = "(SG@5#7) ＞ 5[1,4] ＞ 5 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG+1 修正値がファンブルに影響しない"
output = "(SG+1@12#2) ＞ 2[1,1]+1 ＞ 3 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG-1 修正値がスペシャルに影響しない"
output = "(SG-1@12#2) ＞ 12[6,6]-1 ＞ 11 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@11#3>=7"
output = "(SG@11#3>=7) ＞ 6[3,3] ＞ 6 ＞ 失敗"
failure = true
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SG@11#3>=7"
output = "(SG@11#3>=7) ＞ 7[3,4] ＞ 7 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "0SG>=7"
output = ""
rands = []

[[ test ]]
game_system = "ShinobiGami"
input = "1SG>=7"
output = ""
rands = []

[[ test ]]
game_system = "ShinobiGami"
input = "2SG@11#3>=7"
output = "(2SG@11#3>=7) ＞ 7[3,4] ＞ 7 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "4SG+1>=7"
output = "(4SG+1@12#2>=7) ＞ [2,3,4,5] ＞ 9[4,5]+1 ＞ 10 ＞ 成功"
success = true
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "4SG+1>=7"
output = "(4SG+1@12#2>=7) ＞ [1,1,2,2] ＞ 4[2,2]+1 ＞ 5 ＞ 失敗"
failure = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
  { sides = 6, value = 2 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "4SG+1>=7"
output = "(4SG+1@12#2>=7) ＞ [1,1,1,1] ＞ 2[1,1]+1 ＞ 3 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "4SG+1>=7"
output = "(4SG+1@12#2>=7) ＞ [1,1,6,6] ＞ 12[6,6]+1 ＞ 13 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "FT"
output = "ファンブル表(1) ＞ 何か調子がおかしい。そのサイクルの間、すべての行為判定にマイナス１の修正がつく。"
rands = [
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "FT"
output = "ファンブル表(2) ＞ しまった！　好きな忍具を１つ失ってしまう。"
rands = [
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "FT"
output = "ファンブル表(3) ＞ 情報が漏れる！　あなた以外のキャラクターは、あなたの持っている【秘密】か【居所】の中から、好きなものをそれぞれ一つ知ることができる。"
rands = [
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "FT"
output = "ファンブル表(6) ＞ ふう。危ないところだった。特に何も起こらない。"
rands = [
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "OFT"
output = "ファンブル表（旧文庫版）(1) ＞ 何か調子がおかしい。そのサイクルの間、すべての行為判定にマイナス１の修正がつく。"
rands = [
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "OFT"
output = "ファンブル表（旧文庫版）(3) ＞ 情報が漏れる！　このゲームであなたが獲得した【秘密】は、他のキャラクター全員の知るところとなる。"
rands = [
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "OFT"
output = "ファンブル表（旧文庫版）(6) ＞ ふう。危ないところだった。特に何も起こらない。"
rands = [
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "ET"
output = "感情表(1) ＞ 共感（プラス）／不信（マイナス）"
rands = [
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "ET"
output = "感情表(5) ＞ 憧憬（プラス）／劣等感（マイナス）"
rands = [
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "ET"
output = "感情表(6) ＞ 狂信（プラス）／殺意（マイナス）"
rands = [
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "RTT"
output = "ランダム指定特技表(2,7) ＞ 『体術』歩法"
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "RTT1"
output = "器術分野ランダム特技表(6) ＞ 『器術』仕込み"
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "RCT"
output = "ランダム分野表(6) ＞ 妖術"
rands = [
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "MT"
output = "異形表(2) ＞ 妖魔忍法表B(4) ＞ 1D6を振り、「妖魔忍法表B」で、ランダムに忍法の種類を決定する。妖魔化している間、その妖魔忍法を修得しているものとして扱う。この異形は、違う種類の妖魔忍法である限り、違う異形として扱う。 ＞ 【木魂】(怪p.253／基本p.172)"
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "MTR"
output = "異形表(2) ＞ 1D6を振り、「妖魔忍法表B」で、ランダムに忍法の種類を決定する。妖魔化している間、その妖魔忍法を修得しているものとして扱う。この異形は、違う種類の妖魔忍法である限り、違う異形として扱う。"
rands = [
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "NMT"
output = '新異形表(2) ＞ 妖魔忍法表・凶身(5) ＞ 凶身態。「妖魔忍法表・凶身」を使用し、妖魔化している間、その妖魔忍法を修得する。 ＞ 【百眼】(基本 p173)／【鬼胎】（隠忍 p29）'
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "NMTR"
output = '新異形表(2) ＞ 凶身態。「妖魔忍法表・凶身」を使用し、妖魔化している間、その妖魔忍法を修得する。'
rands = [
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "D66"
output = "(D66) ＞ 66"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "SD66"
output = "(D66) ＞ 66"
secret = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "S1D6"
output = "(1D6) ＞ 1"
secret = true
rands = [
  { sides = 6, value = 1 },
]


[[ test ]]
game_system = "ShinobiGami"
input = "2D6>=? 目標値?でバグらない"
output = "(2D6>=?) ＞ 7[3,4] ＞ 7"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=5"
output = "(2D6>=5) ＞ 2[1,1] ＞ 2 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=5"
output = "(2D6>=5) ＞ 12[6,6] ＞ 12 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=? 目標値?でファンブル"
output = "(2D6>=?) ＞ 2[1,1] ＞ 2 ＞ ファンブル"
failure = true
fumble = true
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "2d6>=? 目標値?でクリティカル"
output = "(2D6>=?) ＞ 12[6,6] ＞ 12 ＞ スペシャル(【生命力】1点か変調一つを回復)"
success = true
critical = true
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]


[[ test ]]
game_system = "ShinobiGami"
input = "ST 以下のコードはシーン表テスト 全シーン表に対し4回以上行われていたが必要性が疑問に思えた為2回ずつに減少、できればシーン表に関してはこのテストのみにして残りは全部削除したい"
output = "シーン表(10) ＞ 大きな風が吹き荒ぶ。髪の毛や衣服が大きく揺れる。何かが起こりそうな予感……"
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "ST"
output = "シーン表(8) ＞ 凄まじい人混み。喧噪。影の世界のことを知らない無邪気な人々の手柄話や無駄話が騒がしい。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "CST"
output = "都市シーン表(6) ＞ 至福の一杯。この一杯のために生きている……って、いつも言ってるような気がするなぁ。"
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "CST"
output = "都市シーン表(3) ＞ 閑静な住宅街。忍びの世とは関係のない日常が広がっているようにも見えるが……それも錯覚なのかもしれない"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "MST"
output = "館シーン表(9) ＞ 長い廊下の途中。この屋敷は広すぎて、迷子になってしまいそうだ。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "MST"
output = "館シーン表(2) ＞ どことも知れぬ暗闇の中。忍びの者たちが潜むには、おあつらえ向きの場所である。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "DST"
output = "出島シーン表(5) ＞ スラム。かろうじて生き延びている人たちが肩を寄せ合い生きているようだ。ここなら辛うじて安心できるかも……。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "DST"
output = "出島シーン表(8) ＞ 薄汚い路地裏。巨大な黒犬が何かを貪っている。あなたの気配を感じて黒犬は去るが、そこに遺されていたのは……。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "DST"
output = "出島シーン表(7) ＞ 立ち並ぶ廃墟。その影から、人とも怪物ともつかぬ者の影が、あなたの様子をじっとうかがっている。"
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "TST"
output = "トラブルシーン表(6) ＞ 危機一髪！　同行者を死神の魔手から救い出す。……ここも油断できないな。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 1 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "NST"
output = "日常シーン表(6) ＞ 買い物帰りの友人と出会う。方向が同じなので、しばらく一緒に歩いていると、思わず会話が盛り上がる。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "KST"
output = "回想シーン表(9) ＞ 恐るべき一撃！　もう少しで命を落とすところだった……。しかし、あの技はいまだ見切れていない。"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 6 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "KST"
output = "回想シーン表(12) ＞ 懐の中のお守りを握りしめる。アイツにもらった、大切な思い出の品。「兵糧丸」を1つ獲得する。"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "TKST"
output = "東京シーン表(6) ＞ 霞が関。この場に集う情報は、忍者にとっても価値が高いものだ。道を行く人々の中にも、役人や警察官が目につく。"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 3 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "GST"
output = "戦国シーン表(11) ＞ 合戦場に設けられた陣内。かがり火がたかれ、武者たちが酒宴を行っている。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "GST"
output = "戦国シーン表(4) ＞ 人気のない山道。ただ鳥の声だけが響いている。通りがかった人を襲うのには、好都合かもしれない。"
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 2 },
]
[[ test ]]
game_system = "ShinobiGami"
input = "GAST"
output = "学校シーン表(8) ＞ 学食のカフェテリア。生徒たちがまばらに席につき、思い思い談笑している。"
rands = [
  { sides = 6, value = 2 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "KYST"
output = "京都シーン表(12) ＞ 一般公開された京都御所の中を歩く。昼間だというのに人通りはあまりなく、何だか少し寂しい気持ち。"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "KYST"
output = "京都シーン表(7) ＞ 「神社仏閣シーン表(JBST)」で決定。"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "JBST"
output = "神社仏閣シーン表(4) ＞ 平安神宮。大鳥居を白無垢の花嫁行列がくぐり抜けていくのが見える。どうやら結婚式のようだ。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
]

[[ test ]]
game_system = "ShinobiGami"
input = "JBST"
output = "神社仏閣シーン表(8) ＞ 清水寺。清水坂を越え、仁王門を抜けると、本堂――いわゆる清水の舞台にたどり着く。そこからは、音羽の滝や子安塔が見える。"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 2 },
]

